[buildout]
develop = .
parts = ophelia apachesite test

[zope3]
recipe = zc.recipe.zope3checkout
url = svn://svn.zope.org/repos/main/Zope3/trunk

[ophelia]
recipe = zc.recipe.egg
eggs = ophelia [test]
extra-paths = ${zope3:location}
interpreter = python

[apache]
recipe = tl.buildout_apache:httpd

[ophelia-example]
modules = dir autoindex
extra-config =
    <Location />
        SetHandler mod_python
        PythonOption TemplateRoot ${buildout:directory}/doc/example/ophelia_pages
        PythonOption Site http://localhost
        PythonHandler ophelia.apache
    </Location>

[apachesite]
recipe = tl.buildout_apache:root
httpd = apache
htdocs = doc/example/static
config-parts = ophelia-example

[test]
recipe = zc.recipe.testrunner
eggs = ${ophelia:eggs}
extra-paths = ${ophelia:extra-paths}
working-directory = ${buildout:parts-directory}/test
defaults = ["-v", "--ignore_dir", "parts"]
