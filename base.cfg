[buildout]
extends = versions/versions.cfg
develop = .
parts = ophelia test sphinx
unzip = true

[ophelia]
recipe = zc.recipe.egg
eggs = ophelia
       tl.eggdeps
interpreter = py
arguments = config_file="${buildout:directory}/.installed.cfg",
            section="ophelia"
template-root = ${buildout:directory}/example/ophelia_pages
document-root = ${buildout:directory}/example/static
site = http://${ophelia:host}:${ophelia:port}/

[test]
recipe = zc.recipe.testrunner
eggs = ophelia [test]
defaults = ["-v", "-c", "-s", "ophelia"]

[sphinx]
recipe = zc.recipe.egg
eggs = sphinx
       repoze.sphinx.autointerface
       pkginfo
       ophelia
scripts = sphinx-build
arguments = argv=sys.argv+("-E -c doc/ -d build/sphinx/doctrees"
                           " . build/sphinx/html/").split()
