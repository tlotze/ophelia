Prerequisites
=============

- Apache2
- Python 2.3 or better
- mod_python 3.1 or better
- the zope package from Zope3


Installation
============

- Copy the ophelia package into the system Python path or configure
  mod_python's Python path according to where you put the ophelia package.

- If you don't have the zope package installed system-wide, put it in
  mod_python's Python path as well.

- Choose places in the files system to put your site's Ophelia pages and
  static (non-Ophelia) documents, resp., and configure Apache accordingly (see
  below).

- Cause Apache to reload its configuration.


Example Apache 2 configuration
------------------------------

Assume that the root of your site is published at
<http://www.example.com/foo/bar/>.

Assume further that your site uses the following file system locations on a
Unix system:

/var/example/templates/  for the tree of Ophelia templates
/var/example/python/     for the Python packages
/var/example/static/     for the static stuff

To publish this site, add the following to your host's config:

Alias /foo/bar /var/example/static
<Directory /var/example/static>
           PythonPath "['/var/example/python'] + sys.path"
           PythonOption DocumentRoot /var/example/static
           PythonOption TemplateRoot /var/example/ophelia_pages
           PythonOption Site http://www.example.com/foo/bar
           AddHandler mod_python .html
           PythonHandler ophelia.apache |.html
           PythonDebug On
</Directory>

This instructs Apache to let Ophelia handle any URI under /foo/bar. Ophelia
will build pages from templates where they exist, and Apache will serve files
from your static content otherwise. (Mind the caveat described in
doc/OVERVIEW.txt.)

The PythonOption DocumentRoot is optional; it defaults to Apache's
DocumentRoot setting.

See doc/OVERVIEW.txt for other Python options Ophelia recognizes, and for
details on how Ophelia behaves.


Issues
======

Directory indexes
-----------------

* index page: touch index.html so the handler is fired on the file name
* automatic index: touch all files to be listed that are built by templating
